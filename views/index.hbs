<div class="container mt-5 text-center">

  <div class="row justify-content-center mb-3">
    <form class="col-4" action="/filter" method="GET">
      <select class="form-select" aria-label="filterSelect" name="filterSelect" onchange="submit()">
        <option value="none">類別</option>
        {{#each categories}}
        <option {{#if this.isSelected}} selected {{/if}} value="{{ this.name }}">{{ this.name }}</option>
        {{/each}}
      </select>
    </form>
  </div>
  
  <div class="d-flex justify-content-center">
    <div class="d-flex align-items-center justify-content-around mt-3 mb-3 col-8">
      <div class="p-2 fs-4" id="totalAmountLabel">總金額：</div>
      <div class="p-2 fs-1 fw-bold" id="totalAmount">{{totalAmount}}</div>
    </div>
  </div>
  {{#each expenses}}
  <div class="row text-start fs-4 mb-2 d-flex align-items-center">
    <div class="col-2 text-end">
      {{{this.categoryIcon}}}
    </div>
    <div class="col-6 d-flex align-items-center">
      <div class="name flex-grow-1 d-flex flex-column">
        <div class="fs-3">{{this.name}}</div>
        <div class="fs-6" id="date">{{this.date}}</div>
      </div>
      <div class="price fs-2 fw-bold">{{this.amount}}</div>
    </div>
    <div class="col text-center">
      <a href="/expenses/{{this._id}}/edit" class="btn btn-success">修改</a>
    </div>
    <div class="col text-center">
      <form action="./expenses/{{ this._id }}?_method=DELETE" method="POST" style="display: inline;">
        <button class="btn btn-danger" type="submit" onclick="confirmDelete(event)">刪除</button>
      </form>
    </div>
  </div>
  {{/each}}
  <a href="/expenses/create" class="btn btn-dark m-3">新增支出</a>
</div>